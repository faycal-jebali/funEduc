<div class="exercice-container">
  <!-- Animation de rÃ©ussite -->
  <div *ngIf="successAnimation" class="confetti">
    ğŸ‰ ğŸŠ ğŸˆ FÃ©licitations ! ğŸˆ ğŸŠ ğŸ‰
  </div>

  <form [formGroup]="exerciceForm">
    <div *ngFor="let ex of exercices; let i = index" class="exercice">
      <p class="sentence" *ngIf="ex.sentence">
        {{ ex.sentence.replace("______", "______") }}
      </p>
      <div class="options">
        <button
          *ngFor="let option of ex.options"
          type="button"
          (click)="exerciceForm.get('answer' + i)?.setValue(option)"
          [class.selected]="exerciceForm.get('answer' + i)?.value === option"
        >
          {{ option }}
        </button>
      </div>
      <p class="feedback">{{ feedback["answer" + i] }}</p>

      <!-- Correction affichÃ©e -->
      <p
        *ngIf="showCorrection && feedback['answer' + i] === 'âŒ Oups !'"
        class="correction"
      >
        âœ… Bonne rÃ©ponse : <strong>{{ ex.correctAnswer }}</strong>
      </p>
    </div>

    <button type="button" (click)="checkAnswers()">âœ… Valider</button>
    <button type="button" (click)="showCorrections()">ğŸ“– Corriger</button>
  </form>
</div>
