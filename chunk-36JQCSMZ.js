import{a as y}from"./chunk-3HXKIMQA.js";import{a as $,b as V,c as B,d as A,e as j,f as z,g as F,h as P,i as W,j as q,k as G}from"./chunk-JX7MXFC3.js";import{a as k,b as I}from"./chunk-36YV34MB.js";import{a as R,d as g}from"./chunk-FBW2AEII.js";import"./chunk-H7H6RDXH.js";import"./chunk-ZANDB5YP.js";import{g as H}from"./chunk-3MILEZSQ.js";import"./chunk-LFBO2YDB.js";import{Db as p,Mb as i,Nb as a,Ob as C,Pb as s,Qb as d,Sb as w,Ub as x,Uc as T,Vb as h,Xc as L,bb as l,ec as r,fc as D,gc as E,ja as u,nb as M,nc as v,pa as _,pc as b,qa as S,rb as m}from"./chunk-6OGJQNIW.js";function J(e,n){e&1&&(i(0,"th",10),r(1,"Titre"),a())}function K(e,n){if(e&1&&(i(0,"td",11),r(1),a()),e&2){let t=n.$implicit;l(),D(t.title)}}function N(e,n){e&1&&(i(0,"th",10),r(1,"Description"),a())}function O(e,n){if(e&1&&(i(0,"td",11),r(1),a()),e&2){let t=n.$implicit;l(),E(" ",t.description||"\u2014"," ")}}function Q(e,n){e&1&&(i(0,"th",10),r(1,"Cr\xE9\xE9 le"),a())}function U(e,n){if(e&1&&(i(0,"td",11),r(1),v(2,"date"),a()),e&2){let t=n.$implicit;l(),E(" ",b(2,1,t.created_at,"short")," ")}}function X(e,n){e&1&&(i(0,"th",10),r(1,"Actions"),a())}function Y(e,n){if(e&1){let t=w();i(0,"td",11)(1,"button",12),x("click",function(){let c=_(t).$implicit,f=h();return S(f.editExercise(c.id))}),i(2,"mat-icon"),r(3,"edit"),a()(),i(4,"button",13),x("click",function(){let c=_(t).$implicit,f=h();return S(f.deleteExercise(c.id))}),i(5,"mat-icon"),r(6,"delete"),a()()()}}function Z(e,n){e&1&&C(0,"tr",14)}function ee(e,n){e&1&&C(0,"tr",15)}var ue=(()=>{class e{constructor(){this.exerciceSectionService=u(y),this.router=u(H),this.displayedColumns=["title","description","created_at","actions"],this.dataSource=[];let t={class_id:"18c7610c-9111-4711-a577-9fb33fcc65d5"};this.exerciceSectionService.getAllSections().subscribe(o=>{console.log("Sections filtr\xE9es :",o),this.dataSource=o.sections})}editExercise(t){this.router.navigate([`/section-exercice-form/${t}`])}deleteExercise(t){this.exerciceSectionService.deleteSectionWithExercices(t).subscribe({next:o=>{console.log("data: ",o),this.router.navigate(["/my-space/sections"])}})}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=M({type:e,selectors:[["app-sections-list"]],decls:16,vars:3,consts:[[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","created_at"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,c){o&1&&(i(0,"div",0)(1,"table",1),s(2,2),m(3,J,2,0,"th",3)(4,K,2,1,"td",4),d(),s(5,5),m(6,N,2,0,"th",3)(7,O,2,1,"td",4),d(),s(8,6),m(9,Q,2,0,"th",3)(10,U,3,4,"td",4),d(),s(11,7),m(12,X,2,0,"th",3)(13,Y,7,0,"td",4),d(),m(14,Z,1,0,"tr",8)(15,ee,1,0,"tr",9),a()()),o&2&&(l(),p("dataSource",c.dataSource),l(13),p("matHeaderRowDef",c.displayedColumns),l(),p("matRowDefColumns",c.displayedColumns))},dependencies:[L,T,G,$,B,F,A,V,P,j,z,W,q,g,R,I,k],encapsulation:2})}}return e})();export{ue as SectionsListComponent};
