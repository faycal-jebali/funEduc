import{a as G}from"./chunk-EQHQ4Y7J.js";import{a as h}from"./chunk-3HXKIMQA.js";import{b as C,c as g,e as x,f as y,i as E,k as N,n as _,r as D,t as I}from"./chunk-THUYKHO4.js";import"./chunk-ZANDB5YP.js";import{g as M}from"./chunk-3MILEZSQ.js";import"./chunk-LFBO2YDB.js";import{Db as s,Mb as e,Nb as i,Ob as l,Rc as F,Ub as v,Xc as b,a as p,b as d,bb as m,ec as o,gb as u,ja as a,nb as f,rb as S}from"./chunk-6OGJQNIW.js";function T(r,q){r&1&&(e(0,"div"),o(1," Le titre est requis. "),i())}var J=(()=>{class r{constructor(n){this.fb=n,this.exercicesService=a(h),this.router=a(M),this.sectionForm=this.fb.group({title:["",[g.required]],description:[""]})}createSection(){if(this.sectionForm.valid){let n=d(p({},this.sectionForm.value),{created_by:G.ADMIN});this.exercicesService.createSection(n).subscribe({next:t=>{alert("Section cr\xE9\xE9e avec succ\xE8s !"),this.sectionForm.reset(),this.router.navigate(["/"])},error:t=>{alert("Erreur lors de la cr\xE9ation de la section."),console.error(t)}})}else alert("Le titre de la section est requis.")}static{this.\u0275fac=function(t){return new(t||r)(u(D))}}static{this.\u0275cmp=f({type:r,selectors:[["app-section-form"]],decls:15,vars:3,consts:[[1,"create-section"],[3,"ngSubmit","formGroup"],["for","title"],["id","title","formControlName","title","type","text"],[4,"ngIf"],["for","description"],["id","description","formControlName","description"],["type","submit",3,"disabled"]],template:function(t,c){t&1&&(e(0,"p"),o(1,"section-form works!"),i(),e(2,"div",0)(3,"h2"),o(4,"Cr\xE9er une Section"),i(),e(5,"form",1),v("ngSubmit",function(){return c.createSection()}),e(6,"label",2),o(7,"Titre de la Section:"),i(),l(8,"input",3),S(9,T,2,0,"div",4),e(10,"label",5),o(11,"Description (facultatif):"),i(),l(12,"textarea",6),e(13,"button",7),o(14," Cr\xE9er Section "),i()()()),t&2&&(m(5),s("formGroup",c.sectionForm),m(4),s("ngIf",c.sectionForm.controls.title.invalid&&c.sectionForm.controls.title.touched),m(4),s("disabled",c.sectionForm.invalid))},dependencies:[b,F,I,E,C,x,y,N,_],encapsulation:2})}}return r})();export{J as SectionFormComponent};
